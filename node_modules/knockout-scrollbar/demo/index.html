
<!doctype html>
<html>
<head>
    <title>knockout-scrollbar demo</title>

    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/0.6.12/css/perfect-scrollbar.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" 
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" 
          crossorigin="anonymous">

    <style>
    .panel {
        margin: 20px;
        max-width: 200px;
    }

    .panel-body {
        white-space: nowrap;
        max-height: 100px;
    }

    main {
        width: 500px;
        margin: 0 auto;
    }    
    </style>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-min.js"></script>
    <script src="knockout-scrollbar.js"></script>
</head>
<body>
<main>
    <div class=page-header>
        <h1>knockout-scrollbar</h1>
    </div>

    <div class=well>
        knockout-scrollbar uses a custom Knockout binding for 
        <a href="https://github.com/noraesae/perfect-scrollbar">perfect-scrollbar</a>, and uses
        <a href="https://github.com/marcj/css-element-queries/">ResizeSensor.js</a>
        to performantly determine whenever the dimensions of the scroll target change.
        This means there is no need to programmatically call an update function.
    </div>

    <h2>Demo</h2>

    <div class="panel panel-default" id=xy>
        <div class="panel-heading">
            <button id=button-xy class="btn btn-xs btn-primary"
                title="change the max- and min-width properties">
                resize
            </button>
            <label class="checkbox-inline">
                <input type="checkbox" data-bind="checked: x">x
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" data-bind="checked: y">y
            </label>
        </div>
        <div class="panel-body" 
            data-bind="scroll: {x:x(), y:y()}">
                content, content, content, content, <br/> 
                content, content, content, content, <br/>
                content, content, content, content, <br/>
                content, content, content, content, <br/>
                content, content, content, content, <br/>
                content, content, content, content, <br/>
                content, content, content, content, <br/>
                content, content, content, content, <br/>
        </div>
    </div>
</main>

<script type="text/javascript">
var el = document.getElementById('xy')
ko.applyBindings({ 
    x: ko.observable(true), 
    y: ko.observable(false), 
}, el)
var btn = document.getElementById('button-xy')
btn.addEventListener('click', function () {
    el.querySelector('.panel-body').style.maxHeight = 100 + Math.random() * 100 + 'px'
    el.style.maxWidth = 150 + Math.random() * 100 + 'px'
})
</script>

</body>
</html>
