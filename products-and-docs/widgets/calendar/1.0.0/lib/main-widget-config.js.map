{"version":3,"file":"./products-and-docs/widgets/calendar/1.0.0/lib/main-widget-config.js","sources":["webpack:///webpack/bootstrap b804303c2f1b1d59d1f4","webpack:///products-and-docs/widgets/calendar/1.0.0/src/main-widget-config.es6"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b804303c2f1b1d59d1f4","(function(){\r\n\r\n    const DEFAULT_API_KEY = apiKeyService.checkApiKeyCookie() || apiKeyService.getApiWidgetsKey();\r\n\r\n    function getHeightByTheme(theme){\r\n        return (theme === 'simple' ? 286 : 339);\r\n    }\r\n\r\n    function getBorderByTheme(theme) {\r\n        switch (theme) {\r\n            case 'simple':\r\n                return 0;\r\n                break;\r\n            default:\r\n                return 2;\r\n        }\r\n    }\r\n\r\n    function getGooleApiKey(code) { return code || \"AIzaSyBQrJ5ECXDaXVlICIdUBOe8impKIGHDzdA\";}\r\n\r\n    function getTmApiKey() {\r\n        return document.getElementById('w-tm-api-key').value;\r\n    }\r\n\r\n    var replaceApiKey = function (options) {\r\n        let userKey = options.userKey || sessionStorage.getItem('tk-api-key') || DEFAULT_API_KEY;\r\n\r\n        if(userKey !== null) {\r\n            let {inputApiKey, widgetNode , widget } = options;\r\n            inputApiKey\r\n              .attr('value', userKey)\r\n              .data('userAPIkey', userKey)\r\n              .val(userKey);\r\n            widgetNode.setAttribute(\"w-tmapikey\", userKey);\r\n            widget.update();\r\n        }\r\n    };\r\n\r\n    let widget = widgetsCalendar[0],\r\n        weekScheduler = weekSchedulers[0],\r\n        monthScheduler = monthSchedulers[0],\r\n        yearScheduler = yearSchedulers[0],\r\n        themeConfig = {\r\n            sizes: {\r\n                standart: {\r\n                    width: 298,\r\n                    height: 400,\r\n                    layout: 'vertical',\r\n                    border: 1\r\n                }\r\n            },\r\n            initSliderSize: {\r\n                width: 298,\r\n                height: 330,\r\n                maxWidth: 300,\r\n                minWidth: 300\r\n            }\r\n        },\r\n        isPostalCodeChanged = false;\r\n\r\n    var $colorSchemeSelector = $('.widget__color_scheme_control');\r\n\r\n    $('#js_styling_nav_tab').on('shown.bs.tab', function (e) {\r\n        // $widthController.slider('relayout');\r\n        // $borderRadiusController.slider('relayout');\r\n    });\r\n\r\n    //replace Api Key on init\r\n    replaceApiKey({\r\n        inputApiKey:$('#w-tm-api-key'),\r\n        widgetNode: document.querySelector(\"div[w-tmapikey]\"),\r\n        widget\r\n    });\r\n\r\n    var changeState = function(event){\r\n        if(!event.target.name || event.target.name === \"w-googleapikey\") return;\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            cleanStyles = [\r\n                document.querySelector(\".tabs\"),\r\n                document.querySelector(\".tabs-container\"),\r\n                document.querySelectorAll(\".tab\"),\r\n                document.querySelectorAll(\".tb\"),\r\n                document.querySelectorAll(\".selector-title\")\r\n            ],\r\n            targetValue = event.target.value,\r\n            targetName = event.target.name,\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        if(targetName === \"w-tm-api-key\") {\r\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', targetValue);\r\n\r\n            if (sessionStorage.getItem('tk-api-key')) {\r\n                document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n            }\r\n            if (document.getElementById('w-tm-api-key').value == '') {\r\n                if (sessionStorage.getItem('tk-api-key')) {\r\n                    document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n                    document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n                }\r\n                else {\r\n                    document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\r\n                    document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\r\n                }\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-keyword\"){\r\n            isPostalCodeChanged = true;\r\n            if (document.getElementById('w-keyword').value == '') {\r\n                document.getElementById('w-postalcode').value = '90015';\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-postalcode\"){\r\n            widgetNode.setAttribute('w-country', '');\r\n            isPostalCodeChanged = true;\r\n            if (document.getElementById('w-keyword').value == '' && document.getElementById('w-postalcode').value == '' ) {\r\n                document.getElementById('w-postalcode').value = '90015';\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-country', 'US');\r\n                document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', '34.0390107,-118.2672801');\r\n            }\r\n            if (document.getElementById('w-postalcode').value.length <= 3) document.getElementById('w-postalcode').value = '90015';;\r\n        }\r\n\r\n        if(targetName === \"w-radius\"){\r\n            if (document.getElementById('w-radius').value == '') document.getElementById('w-radius').value = '5';\r\n\r\n        }\r\n\r\n        if(targetName === \"w-countryCode\"){\r\n            document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-latlong');\r\n            if (widgetNode.getAttribute('w-countrycode') != targetValue) {\r\n                document.getElementById(\"w-city\").value = '';\r\n                widgetNode.setAttribute('w-city', '');\r\n                if (targetValue == 'US') {\r\n                    document.getElementById(\"w-city\").value = 'Los Angeles';\r\n                    widgetNode.setAttribute('w-city', 'Los Angeles');\r\n                }\r\n            }\r\n        }\r\n\r\n        if(targetName === \"w-city\"){\r\n            if (targetValue == '') {\r\n                event.target.parentNode.classList.add(\"required\");\r\n                document.querySelector('.js_get_widget_code').classList.add('disabled');\r\n                return;\r\n            }\r\n            else {\r\n                event.target.parentNode.classList.remove(\"required\");\r\n                document.querySelector('.js_get_widget_code').classList.remove('disabled');\r\n            }\r\n        }\r\n        \r\n        if(targetName === \"w-theme\"){\r\n            if(targetValue === 'simple'){\r\n                $colorSchemeSelector.hide();\r\n            }else{\r\n                $colorSchemeSelector.show();\r\n            }\r\n\r\n            if(widgetNode.getAttribute('w-layout') === 'horizontal'){\r\n                widgetNode.setAttribute('w-height', getHeightByTheme(targetValue));\r\n            }\r\n            widgetNode.setAttribute('w-border', getBorderByTheme(targetValue));\r\n        }\r\n\r\n        if(targetName === \"w-colorscheme\"){\r\n            if (targetValue === 'custom') {\r\n              $(\".widget__color_scheme_custom\").show();\r\n            } else {\r\n                $('.widget__color_scheme_custom').hide();\r\n                widgetNode.removeAttribute('w-background');\r\n                widgetNode.removeAttribute('w-textcolor');\r\n                widgetNode.removeAttribute('w-bordercolor');\r\n                widgetNode.removeAttribute('w-tabsbordercolor');\r\n                widgetNode.removeAttribute('w-tabsbordercolor');\r\n                widgetNode.removeAttribute('w-tabcolor');\r\n                widgetNode.removeAttribute('w-tabbackground');\r\n                widgetNode.removeAttribute('w-hovertabcolor');\r\n                widgetNode.removeAttribute('w-hovertabbackground');\r\n                widgetNode.removeAttribute('w-selectorcolorhover');\r\n                widgetNode.removeAttribute('w-datesbackground');\r\n                widgetNode.removeAttribute('w-datescolor');\r\n                widgetNode.removeAttribute('w-datescolorhover');\r\n                let customSheet = document.querySelector('div[w-type=\"calendar\"]').getElementsByTagName('style')[0];\r\n                if (customSheet != undefined) {\r\n                    customSheet.parentNode.removeChild(customSheet);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (targetName === \"w-background\") {\r\n            widgetNode.setAttribute('w-background', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-textcolor\") {\r\n            widgetNode.setAttribute('w-textcolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-bordercolor\") {\r\n            widgetNode.setAttribute('w-bordercolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-tabsbordercolor\") {\r\n            widgetNode.setAttribute('w-tabsbordercolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-tabcolor\") {\r\n            widgetNode.setAttribute('w-tabcolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-tabbackground\") {\r\n            widgetNode.setAttribute('w-tabbackground', this.value);\r\n        }\r\n        \r\n\r\n        if (targetName === \"w-hovertabcolor\") {\r\n            widgetNode.setAttribute('w-hovertabcolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-hovertabbackground\") {\r\n            widgetNode.setAttribute('w-hovertabbackground', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-selectorcolorhover\") {\r\n            widgetNode.setAttribute('w-selectorcolorhover', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-datesbackground\") {\r\n            widgetNode.setAttribute('w-datesbackground', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-datescolor\") {\r\n            widgetNode.setAttribute('w-datescolor', this.value);\r\n        }\r\n\r\n        if (targetName === \"w-datescolorhover\") {\r\n            widgetNode.setAttribute('w-datescolorhover', this.value);\r\n        }\r\n\r\n\r\n        if(targetName === \"w-layout\"){\r\n            let sizeConfig = themeConfig.initSliderSize;\r\n            if(targetValue === 'horizontal'){\r\n                sizeConfig = {\r\n                    width: 620,\r\n                    height: getHeightByTheme(widgetNode.getAttribute('w-theme')),\r\n                    maxWidth: 900,\r\n                    minWidth: 620\r\n                };\r\n            }\r\n\r\n            $widthController.slider({\r\n                setValue: sizeConfig.width ,\r\n                max: sizeConfig.maxWidth,\r\n                min: sizeConfig.minWidth\r\n            })\r\n                .slider('refresh');\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        //Check fixed sizes for 'simple' theme\r\n        if(targetName === \"w-proportion\") {\r\n            let widthSlider = $('.js_widget_width_slider');\r\n            let sizeConfig = {\r\n                width: themeConfig.sizes[targetValue].width,\r\n                height: themeConfig.sizes[targetValue].height,\r\n                maxWidth: 600,\r\n                minWidth: 350\r\n            };\r\n\r\n            //set layout\r\n            widgetNode.setAttribute('w-layout', themeConfig.sizes[targetValue].layout);\r\n\r\n            if (targetValue !== 'custom') {\r\n                $tabButtons.slideUp(\"fast\");\r\n                widthSlider.slideUp(\"fast\");\r\n            }else{\r\n                $tabButtons.slideDown(\"fast\");\r\n                widthSlider.slideDown(\"fast\");\r\n                $('input:radio[name=\"w-layout\"][value=\"vertical\"]',$tabButtons).prop('checked', true);\r\n\r\n                sizeConfig = { //default size\r\n                    width: themeConfig.initSliderSize.width,  //350\r\n                    height: themeConfig.initSliderSize.height,  //600\r\n                    maxWidth: themeConfig.initSliderSize.maxWidth,  //500\r\n                    minWidth: themeConfig.initSliderSize.minWidth // 350\r\n                };\r\n                $widthController.slider({\r\n                    setValue: sizeConfig.width,\r\n                    max: sizeConfig.maxWidth,\r\n                    min: sizeConfig.minWidth\r\n                })\r\n                    .slider('refresh');\r\n\r\n            }\r\n\r\n            widgetNode.setAttribute('w-width', sizeConfig.width);\r\n            widgetNode.setAttribute('w-height', sizeConfig.height);\r\n        }\r\n\r\n        widgetNode.setAttribute(event.target.name, event.target.value);\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n\r\n\r\n        /*\r\n        widget.update().then(function() {\r\n            console.log('Update Done');\r\n            weekScheduler.update();\r\n            // monthScheduler.update();\r\n            // yearScheduler.update();\r\n        }, function(error) {\r\n            console.log(\"Error!\", error);\r\n        });\r\n        */\r\n    };\r\n\r\n    var resetWidget = function(configForm) {\r\n        let widgetNode = document.querySelector(\"div[w-tmapikey]\"),\r\n            radiusParam = document.querySelector(\"div[w-radius]\"),\r\n            height = 600,\r\n            theme,\r\n            layout;\r\n        const widthSlider = $('.js_widget_width_slider'),\r\n            $tabButtons = $('.js-tab-buttons');\r\n\r\n        configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n            let $self = $(this),\r\n                data = $self.data(),\r\n                value = data.defaultValue;\r\n\r\n            if(data.sliderValue){\r\n                value = data.sliderValue;\r\n                $self.slider({\r\n                    setValue: value,\r\n                    max: data.sliderMax,\r\n                    min: data.sliderMin\r\n                })\r\n                    .slider('refresh');\r\n            }else{\r\n                $self.val(value);\r\n            }\r\n            [\"#w-countryCode\",\"#w-source\"].map((item)=> {\r\n                $(item).prop(\"selectedIndex\", 0);\r\n            });\r\n\r\n            widgetNode.setAttribute($self.attr('name'), value);\r\n            if ( $self.attr('name') === 'w-tm-api-key' ) widgetNode.removeAttribute($self.attr('name'));\r\n        });\r\n\r\n        configForm.find(\"input[type='radio']\").each(function(){\r\n            var $self = $(this);\r\n            if($self.data('is-checked')){\r\n                let name = $self.attr('name'),\r\n                    val = $self.val();\r\n                if(name === 'w-theme'){\r\n                    theme = val;\r\n                }else if(name === 'w-layout'){\r\n                    layout = val;\r\n                }else if(name === 'w-proportion'){\r\n                    $tabButtons.slideDown(\"fast\");\r\n                    widthSlider.slideDown(\"fast\");\r\n                }\r\n                $self.prop('checked', true);\r\n                widgetNode.setAttribute($self.attr('name'), val);\r\n            }\r\n        });\r\n\r\n\r\n\r\n        if(layout === 'horizontal'){\r\n            height = getHeightByTheme(theme);\r\n        }\r\n        // widgetNode.setAttribute('w-height', height);\r\n        widgetNode.setAttribute('w-height', '400');\r\n        // widgetNode.setAttribute('w-border', 0);\r\n\r\n        $('.country-select .js_custom_select').removeClass('custom_select-opened');//reset custom select\r\n        $('#w-country').children().remove().end().append('<option selected value=\"US\">United States</option>');\r\n        $('#w-country').attr('disabled', 'disabled');\r\n        $('.custom_select__list li').removeClass('custom_select__item-active');//reset custom select\r\n        radiusParam.setAttribute('w-radius', '25');\r\n        $('#w-tm-api-key').val( DEFAULT_API_KEY) ;//set apikey\r\n        widget.onLoadCoordinate();\r\n        widget.update();\r\n    };\r\n\r\n    var $configForm = $(\".main-widget-config-form\"),\r\n        $widgetModal = $('#js_widget_modal'),\r\n        $widgetModalNoCode = $('#js_widget_modal_no_code'),\r\n        $widgetModalMap = $('#js_widget_modal_map');\r\n\r\n    $configForm.on(\"change\", changeState);\r\n    // Mobile devices. Force 'change' by 'Go' press\r\n    $configForm.on(\"submit\", function (e) {\r\n        $configForm.find('input:focus').trigger('blur');\r\n        e.preventDefault();\r\n    });\r\n\r\n    $configForm.find(\"input[type='text'], input[type='number']\").each(function(){\r\n        var $self = $(this);\r\n        $self.data('default-value', $self.val());\r\n    });\r\n\r\n    $configForm.find(\"input[type='radio']\").each(function(){\r\n        var $self = $(this);\r\n        if($self.is(':checked'))\r\n            $self.data('is-checked', 'checked');\r\n    });\r\n\r\n    if (sessionStorage.getItem('tk-api-key')) {\r\n        document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n    }\r\n    if (document.getElementById('w-tm-api-key').value == '') {\r\n        if (sessionStorage.getItem('tk-api-key')) {\r\n            document.getElementById('w-tm-api-key').value = sessionStorage.getItem('tk-api-key');\r\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', sessionStorage.getItem('tk-api-key'));\r\n        }\r\n        else {\r\n            document.getElementById('w-tm-api-key').value = DEFAULT_API_KEY;\r\n            document.querySelector('[w-type=\"calendar\"]').setAttribute('w-tmapikey', DEFAULT_API_KEY);\r\n        }\r\n    }    \r\n\r\n    $('.js_get_widget_code').on('click', function(){\r\n        if ($(this).hasClass('disabled')) return;\r\n        var codeCont = document.querySelector(\".language-html.widget_dialog__code\");\r\n        var htmlCode = document.createElement(\"div\");\r\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n        for(var key in widget.config){\r\n            if(key !== 'country'){\r\n                htmlCode.setAttribute(\"w-\"+key,widget.config[key]);\r\n            }\r\n        }\r\n        // Use only Key from config form\r\n        var googleKey = 'YOUR_GOOGLE_API_KEY';\r\n        htmlCode.setAttribute('w-googleapikey', getGooleApiKey());\r\n        htmlCode.setAttribute('w-tmapikey', getTmApiKey());\r\n        /*\r\n        if (document.getElementById('w-googleapikey').value != '') {\r\n            googleKey = document.getElementById('w-googleapikey').value;\r\n            htmlCode.setAttribute('w-googleapikey', googleKey);\r\n        } else {\r\n            htmlCode.setAttribute('w-googleapikey', googleKey);\r\n        }\r\n        */\r\n        htmlCode.setAttribute('w-googleapikey', googleKey);\r\n        var tmp = document.createElement(\"div\");\r\n        tmp.appendChild(htmlCode);\r\n        codeCont.textContent = tmp.innerHTML;\r\n        $widgetModal.modal();\r\n    });\r\n\r\n\r\n    $('.js_reset_widget').on('click', function(){\r\n        resetWidget($configForm);\r\n    });\r\n\r\n    $('#js_widget_modal__close').on('click', function(){\r\n        $widgetModal.modal('hide');\r\n    });\r\n\r\n    $('#js_widget_modal_no_code__close').on('click', function(){\r\n        $widgetModalNoCode.modal('hide');\r\n    });\r\n\r\n    $('.js_widget__number').on('change', function (e) {\r\n        let $self = $(this),\r\n            val = $self.val().trim(),\r\n            max = parseInt($self.attr('max')),\r\n            min = parseInt($self.attr('min')),\r\n            required = !!$self.attr('required'),\r\n            regNumberOrEmpty = /^(\\s*|\\d+)$/,\r\n            errorCssClass = 'error';\r\n\r\n        // if(val === '') $self.val('');\r\n\r\n        if((max && val > max) || (min && val < min) || (required && val === '') || (!regNumberOrEmpty.test(val))){\r\n            $self.addClass(errorCssClass);\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        }else{\r\n            $self.removeClass(errorCssClass);\r\n        }\r\n    });\r\n\r\n    $('#js_widget_modal_map__open').on('click', function(e){\r\n        e.preventDefault();\r\n        $widgetModalMap.modal();\r\n    });\r\n\r\n    $('#js_widget_modal_map__close').on('click', function(){\r\n        $widgetModalMap.modal('hide');\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', document.getElementById('w-latlong').value.replace(/\\s+/g, ''));\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n    });\r\n\r\n    $('.widget__location span').on('click', function(){\r\n        $('.widget__location').addClass('hidn');\r\n        $('.widget__latlong').removeClass('hidn');\r\n        document.getElementById('h-countryCode').value = document.getElementById('w-countryCode').value;\r\n        document.getElementById('h-postalcodeapi').value = document.getElementById('w-postalcodeapi').value;\r\n        document.getElementById('h-city').value = document.getElementById('w-city').value;\r\n        document.getElementById('w-latlong').value = document.getElementById('h-latlong').value;\r\n        widget.config.latlong = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-latlong', widget.config.latlong);\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-countrycode');\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-postalcodeapi');\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-city');\r\n        widget.config.countrycode = '';\r\n        widget.config.postalcode = '';\r\n        widget.config.city = '';\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n    });\r\n\r\n    $('.widget__latlong span').on('click', function(){\r\n        $('.widget__latlong').addClass('hidn');\r\n        $('.widget__location').removeClass('hidn');\r\n        document.getElementById('h-latlong').value = document.getElementById('w-latlong').value.replace(/\\s+/g, '');\r\n        document.getElementById('w-latlong').value = '';\r\n        document.querySelector('[w-type=\"calendar\"]').removeAttribute('w-latlong');\r\n        document.getElementById('w-countryCode').value = document.getElementById('h-countryCode').value;\r\n        document.getElementById('w-postalcodeapi').value = document.getElementById('h-postalcodeapi').value;\r\n        document.getElementById('w-city').value = document.getElementById('h-city').value;\r\n        widget.config.countrycode = document.getElementById('w-countryCode').value;\r\n        widget.config.postalcode = document.getElementById('w-postalcodeapi').value;\r\n        widget.config.city = document.getElementById('w-city').value;\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-countrycode', widget.config.countrycode);\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-postalcodeapi', widget.config.postalcode);\r\n        document.querySelector('[w-type=\"calendar\"]').setAttribute('w-city', widget.config.city);\r\n        widget.config.latlong = '';\r\n        widget.update();\r\n        let spinner = document.querySelector('.events-root-container .spinner-container');\r\n        spinner.classList.add('hide');\r\n        setTimeout(function() {\r\n            weekScheduler.update();\r\n            monthScheduler.update();\r\n            yearScheduler.update();\r\n        }, 500);\r\n    });\r\n\r\n    widget.onLoadCoordinate = function (results, countryShortName = '') {\r\n        widget.config['country'] = countryShortName;\r\n        if(isPostalCodeChanged){\r\n            isPostalCodeChanged = false;\r\n\r\n            let $countrySelect = $('#w-country'),\r\n                $ul = $(\"#w-country .js_widget_custom__list\"),\r\n                options = \"<option selected value=''>All</option>\";\r\n\r\n            $countrySelect.html('');\r\n            $ul.html(''); //clear custom select list\r\n            $countrySelect.prop('disabled', !results);\r\n\r\n            if(results){\r\n                let status;\r\n                if (results.length <=1) status = true;\r\n                else status = false;\r\n                $countrySelect.prop('disabled', status);\r\n                // $countrySelect.prop('disabled', !results.length);\r\n                options = '';\r\n                for(let i in results){\r\n                    let result = results[i];\r\n                    if(result.address_components){\r\n                        let country = result.address_components[result.address_components.length - 1];\r\n                        if(country){\r\n                            let isSelected = country.short_name === countryShortName ? 'selected' : '';\r\n                            options += `<option ${isSelected} value=\"${country.short_name}\">${country.long_name}</option>`;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            $countrySelect.append(options);\r\n            addCustomList($ul, '#w-country', countryShortName);\r\n        }\r\n    };\r\n\r\n    function addCustomList(listWrapperElement, listWrapperId, activeVal) {\r\n        var $listOption = $(listWrapperId).find('option'),//update list\r\n            $placeholder = $(\".country-select\").find(\".custom_select__placeholder\"),\r\n            // $ul = listWrapperElement;\r\n            $ul = $('.country-select .custom_select__list');\r\n\r\n        $placeholder.val( $listOption.html() );\r\n\r\n        $($ul).html('');\r\n\r\n        $listOption.each(function () {\r\n            var data = {\r\n                value: $(this).val()\r\n            };\r\n            $ul.append(`<li class=\"custom_select__item ${activeVal === data.value ? 'custom_select__item-active' : ''}\" data-value=\"${data.value}\">${$(this).text()}</li>`)\r\n        });\r\n    }\r\n\r\n    document.getElementById('w-borderradius').addEventListener('blur', function(e) {\r\n        if(this.value < 0 || this.value > 50) {\r\n            this.value = 4;\r\n            let widgetNode = document.querySelector(\"div[w-tmapikey]\");\r\n            widgetNode.setAttribute('w-borderradius', '4');\r\n            widget.update();\r\n        }\r\n    });\r\n\r\n    $('input.color-picker').minicolors(); \r\n\r\n\r\n})();\r\n\n\n\n// WEBPACK FOOTER //\n// products-and-docs/widgets/calendar/1.0.0/src/main-widget-config.es6"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AACA;AACA;AACA;AACA;AAJA;AATA;AAJA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AAHA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;AAUA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;;;A","sourceRoot":""}