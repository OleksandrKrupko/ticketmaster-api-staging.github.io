<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=11">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="This tutorial goes through the steps needed to create a Google Map populated with events taking place in a specific area on the map.">
    <meta name="keywords" content="events, search, location, map, discovery, api">
    <title>
            Tutorial - Locate events on a map â€“ The Ticketmaster Developer Portal</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/products-and-docs/tutorials/events-search/search_events_in_location">
    <!-- <link rel="alternate" type="application/rss+xml" title="The Ticketmaster Developer Portal" href="http://localhost:4000/feed.xml"> -->
    <script src="/scripts/vendors/jquery-1.11.3.min.js"></script>
    <script src="/scripts/components/header.js"></script>
	  <script type="text/javascript" src="https://www.universe.com/embed.js"></script>
		<!-- Begin Jekyll SEO tag v2.2.0 -->
<meta property="og:title" content="Tutorial - Locate events on a map" />
<meta name="author" content="Name Lastname" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This tutorial goes through the steps needed to create a Google Map populated with events taking place in a specific area on the map." />
<meta property="og:description" content="This tutorial goes through the steps needed to create a Google Map populated with events taking place in a specific area on the map." />
<link rel="canonical" href="http://localhost:4000/products-and-docs/tutorials/events-search/search_events_in_location" />
<meta property="og:url" content="http://localhost:4000/products-and-docs/tutorials/events-search/search_events_in_location" />
<meta property="og:site_name" content="The Ticketmaster Developer Portal" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "WebPage",
"headline": "Tutorial - Locate events on a map",
"author": {"@type": "Person",
"name": {"name":"Name Lastname","email":"blah@email.test","github":"username","twitter":"username","feedburner":"feedname"}},
"description": "This tutorial goes through the steps needed to create a Google Map populated with events taking place in a specific area on the map.",
"url": "http://localhost:4000/products-and-docs/tutorials/events-search/search_events_in_location"}</script>
<!-- End Jekyll SEO tag -->

		<meta property="og:image" content="http://localhost:4000/assets/img/branding-guide/blue-logo@3x.png" />
		<meta property="og:image:type" content="image/png" />
		<meta property="og:image:width" content="792" />
		<meta property="og:image:height" content="792" />
</head>

    <body class="no-js">
        <!-- Qualaroo for ticketmaster.com -->
        <!-- Paste this code right after the <body> tag on every page of your site. -->
        <script type="text/javascript">
          var _kiq = _kiq || [];
          (function(){
            setTimeout(function(){
            var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript';
            s.async = true; s.src = '//s3.amazonaws.com/ki.js/62776/euc.js'; f.parentNode.insertBefore(s, f);
            }, 1);
          })();
        </script>
        
                <script type="text/javascript">document.body.className = document.body.className.replace('no-js','js');</script>

<input type='checkbox' style='display: none' id="cb">
<label class='modal-info-label icon-right' for=cb>
    <img src="/assets/controls/ic-close-small-grey.svg">
</label>
<div class='modal-info fixed'><span></span>
    Please enable JS in your browser for better work of developer.ticketmaster.com
</div>
        

        <script type="text/javascript">document.body.className = document.body.className.replace('no-js','js');</script>

<input type='checkbox' style='display: none' id="cb">
<label class='modal-info-label icon-right' for=cb>
    <img src="/assets/controls/ic-close-small-grey.svg">
</label>
<div class='modal-info fixed'><span></span>
    Please enable JS in your browser for better work of developer.ticketmaster.com
</div>
<div class="top-bar bg-header header-curtain">
<div class="body-wrapper">
    <div class="row">
        <div class="col-xs-7 col-lg-2 gray">
            <a id="header-logo" href="/">
            
            <img alt="Ticketmaster logo" src="/assets/img/header/tm-developer-logo.svg">
            
            </a>
        </div>
        <nav id="menu" class="col-xs-12 col-lg-8">
            <!-- links put into single line intentionally to avoid browser rendered spaces -->
            <a   class="gray expandable"  data-expands-to="one" href="/products-and-docs/">Products & Docs <span class="header-chevron pull-right"></span></a><a
                 class="gray expandable"  data-expands-to="two" href="/partners/">Partners<span class="header-chevron pull-right"></span></a><a
                 class="gray expandable"  data-expands-to="three" href="/support/">Support<span class="header-chevron pull-right"></span></a><a
                 class="gray"  data-expands-to="four" href="/blogs/">Blogs</a><a
                 class="gray expandable"  data-expands-to="five" href="/events/">Events<span class="header-chevron pull-right"></span></a><a
                 class="gray"  data-expands-to="six" href="http://code.ticketmaster.com/">Open Source</a>
        </nav>
        <div class="col-xs-5 col-lg-2 gray">
            <a id="menu-btn"  class="white"></a>
            <div class="search-container">
                <div id="search"  class="white">
                    <div class="search-button"></div>
                    <form action="/search/" id="cse-search-box" autocomplete="off">
                        <div>
                            <input type="hidden" name="cx" value="000111791941460729347:zmu0d7yvkfq" />
                            <input type="hidden" name="ie" value="UTF-8" />
                            <input class="q" type="text" name="q" size="14" placeholder="Search for ..."/>
                            <input class="sa" type="submit" name="sa" value="" />
                        </div>
                    </form>
                    <script type="text/javascript" src="//www.google.com/jsapi"></script>
                    <script type="text/javascript" src="//www.google.com.ua/cse/brand?form=cse-search-box&lang=en"></script>
                    <!--<span tabindex="-1" id="search-alert" style="display: none;">Whoa! Search isn't quite ready yet! We're still working on it.</span>-->
                </div>
                <a class="apigee-login  white" href="https://developer-acct.ticketmaster.com/user/login">Login</a>
            </div>
        </div>
        <div id="rainbow">
            <span class="one"></span>
            <span class="two"></span>
            <span class="three"></span>
            <span class="four"></span>
            <span class="five"></span>
            <span class="six"></span>
        </div>
    </div>
</div>

</div>
<div id="expand-menu" class="row" tabindex="-1"  style="position:fixed" >
    <div class="row-container">
        <div id="expand-one" class="expand-section" style="display: none;">
            <div class="col-xs-2 expand-column">
                <a href="/products-and-docs/apis/getting-started/">
                    <h4>APIs</h4>
                </a>
                <ul>
                    <li>
                        <a href="/products-and-docs/apis/getting-started/">Getting started</a>
                    </li>
                    <!--<li>
                        <a href="/products-and-docs/apis/interactive-console/">Interactive Docs</a>
                    </li>-->
                    <li>
                        <a href="/api-explorer/">API Explorer</a>
                    </li>
									  <li>
                        <a href="/api-explorer/v2/">API Explorer v2</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/changelog/">Changelog</a>
                    </li>

                    <li>
                        <h4>OPEN APIs</h4>
                    </li>
                    <li>
                        <a class="star" href="/products-and-docs/apis/discovery-api/v2/">Discovery API</a>
                    </li>
                    <li>
                        <a class="star" href="/products-and-docs/apis/commerce/v2/">Commerce API</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/publish/">Publish API</a>
                    </li>
                    <!--
									  <li>
                        <a href="/products-and-docs/apis/oauth/"> OAuth API</a>
                    </li>
                    -->
                    <li>
                        <h4>PARTNER APIs</h4>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/partner/">Partner API</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/top-picks/">Top Picks API</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/inventory-status/">Inventory Status API</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/international-discovery/">International Discovery API</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/apis/season-ticketing/">Season Ticketing API</a>
                    </li>
                    <li>
                         <a href="/products-and-docs/apis/presence/">Presence API</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-2 expand-column">
                <a href="/products-and-docs/sdks/">
                    <h4>SDKs</h4>
                </a>
                <ul>
                    <li>
                        <a href="https://github.com/ticketmaster-api/sdk-java">Java-SDK</a>
                    </li>
                    <li>
                        <a href="https://github.com/ticketmaster-api/sdk-javascript">JavaScript-SDK</a>
                    </li>
                    <li>
                        <a href="https://github.com/ticketmaster-api/sdk-scala">Scala-SDK</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/sdks/#account-manager">Account Manager</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-2 expand-column">
                <a href="/products-and-docs/widgets/">
                    <h4>WIDGETS</h4>
                </a>
                <ul>
                    <li>
                        <a href="/products-and-docs/widgets/checkout/">Ticketmaster Universal Checkout</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/widgets/event-discovery/">Event Discovery Widget</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/widgets/countdown/">Countdown Widget</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/widgets/calendar/">Calendar Widget</a>
                    </li>
									  <li>
                        <a href="/products-and-docs/widgets/map/">Map Widget</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/widgets/wordpress/">WordPress Widget</a>
                    </li>
                    <li>
                        <a href="https://www.universe.com/directpayments">Direct Payments</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-2 expand-column" style="margin-right: -50px;">
                <a href="/products-and-docs/tutorials/">
                    <h4>TUTORIALS</h4>
                </a>
                <ul>
                    <li>
                        <a href="/products-and-docs/tutorials/events-search/">Events Search</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/tutorials/widgets/">Widgets</a>
                    </li>
                    <li>
                        <a href="/products-and-docs/tutorials/sample-apps/">Sample Apps</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="expand-two" class="expand-section" style="display: none;">
            <div class="col-xs-2 expand-column" style="margin-right: 20px;">
                <a href="/partners/distribution-partners/">
                    <h4>Distribution Partners</h4>
                </a>
                <ul>
                    <li>
                        <a href="https://member.impactradius.com/bla/Ticketmasterdirect/login.user">Affiliate Sign In</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-2 expand-column">
                <a href="/partners/certified-partners/">
                    <h4>Certified Partners</h4>
                </a>
                <ul>
                    <li>
                        <a href="/partners/certified-partners/nexus/">Join the Nexus program</a>
                    </li>
                </ul>
            </div>
            <!--<div class="col-xs-1 expand-column" style="margin-right: 20px;">
                <a href="https://member.impactradius.com/bla/Ticketmasterdirect/login.user">
                    <h4>Affiliates</h4>
                </a>
            </div>-->
            <div class="col-xs-3 expand-column" style="margin-right: -120px;">
                <a href="/partners/startups-and-developers/">
                    <h4>Startups & Developers</h4>
                </a>
                <ul>
                    <li>
                        <a href="/partners/startups-and-developers/#web">Web</a>
                    </li>
                    <li>
                        <a href="/partners/startups-and-developers/#heatmap">Heatmap</a>
                    </li>
                </ul>
            </div>
        </div>

        <div id="expand-three" class="expand-section" style="display: none;">
            <div class="col-xs-1 expand-column" style="margin-right: 30px;">
                <a href="/support/faq/">
                    <h4>FAQ</h4>
                </a>
                <ul>
                    <li>
                        <a href="/support/faq/#general-a">General</a>
                    </li>
                    <li>
                        <a href="/support/faq/#account-a">Data</a>
                    </li>
                    <li>
                        <a href="/support/faq/#affiliates-a">Affiliates</a>
                    </li>
                    
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                </ul>
            </div>
            
            <div class="col-xs-2 expand-column" style="margin-right: 20px;">
                <a href="/support/terms-of-use/">
                    <h4>General Terms of Use</h4>
                </a>
                <ul>
                    <li>
                        <a href="/support/terms-of-use/#license">Licensed Uses and Restrictions</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/#ownership">Ownership and Relationship of Parties</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/#support">Support</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/#warranty">Warranty Disclaimer</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/#release">Release and Waiver</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/#indemnity">Hold Harmless and Indemnity</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/#terms">General Terms</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-3 expand-column" style="margin-right: -40px;">
                <a href="/support/terms-of-use/partner/">
                    <h4>Partner API Terms of Use</h4>
                </a>
                <ul>
                    <li>
                        <a href="/support/terms-of-use/partner/#licensed-uses-and-restrictions">Licensed Uses and Restrictions</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/partner/#ownership-and-relationship-of-parties">Ownership and Relationship of Parties</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/partner/#support">Support</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/partner/#warranty-disclaimer">Warranty Disclaimer</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/partner/#release-and-waiver">Release and Waiver</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/partner/#hold-harmless-and-indemnity">Hold Harmless and Indemnity</a>
                    </li>
                    <li>
                        <a href="/support/terms-of-use/partner/#general-terms">General Terms</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-2 expand-column" style="margin-right: -25px;">
                <a href="/support/branding-guide/">
                    <h4>Branding Guide</h4>
                </a>
                <ul>
                    <li>
                        <a href="/support/branding-guide/#brand-logo">Logo</a>
                    </li>
                    <li>
                        <a href="/support/branding-guide/#verified-tickets">Verified Tickets</a>
                    </li>
                    <li>
                        <a href="/support/branding-guide/#legal-stuff">Legal Stuff</a>
                    </li>
                </ul>
            </div>
             <div class="col-xs-2 expand-column" style="margin-right: -25px;">
                <a href="/support/partner-api-faq/">
                    <h4>Partner API Faq</h4>
                </a>
                <ul>
                    <li>
                        <a href="/support/partner-api-faq/#partner-api-general">Partner API General</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#oauth">Oauth</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#captcha">Captcha</a>
                    </li>
                     <li>
                        <a href="/support/partner-api-faq/#events">Events</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#polling">Polling</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#event-details">Event Details</a>
                    </li>
                     <li>
                        <a href="/support/partner-api-faq/#event-availability">Event Availability</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#event-reserve">Event Reserve</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#adding-payment">Adding Payment</a>
                    </li>
                     <li>
                        <a href="/support/partner-api-faq/#shipping">Shipping</a>
                    </li>
                    <li>
                    	<a href="/support/partner-api-faq/#commit-cart">Commit Cart</a>
                    </li>
                    <li>
                        <a href="/support/partner-api-faq/#fulfillment">Fulfillment</a>
                    </li>
                </ul>
            </div>
            <div class="col-xs-2 expand-column" style="margin-right: -50px;">
                <a href="/support/contact-us/">
                    <h4>Contact Us</h4>
                </a>
            </div>

        </div>
        <div id="expand-four" class="expand-section" style="display: none;">
            <div class="col-xs-2 expand-column">
                <a href="/blogs/">
                    <h4>Blogs</h4>
                </a>
            </div>
        </div>
        <div id="expand-five" class="expand-section" style="display: none;">
            <div class="col-xs-1 expand-column">
                <a href="/events/">
                    <h4>Events</h4>
                </a>
                <ul>
                    <li>
                        <a class="" href="/events/#/upcoming">Upcoming</a>
                    </li>
                    <li>
                        <a href="/events/#/past">Past</a>
                    </li>
                </ul>
            </div>
        </div>
        <div id="expand-six" class="expand-section" style="display: none;">
            <div class="col-xs-2 expand-column">
                <a href="http://code.ticketmaster.com/">
                    <h4>Open Source</h4>
                </a>
            </div>
        </div>
    </div>
</div>

<ul id="menu-dropdown" class="col-xs-12 col-sm-5 col-lg-3 closed fixed" tabindex="-1">
    
    <li><a class="apigee-login" href="https://developer-acct.ticketmaster.com/user/login">Login</a></li>
    <li><a class="active" href="/products-and-docs/">Products & Docs</a></li>
    <li><a  href="/partners/">Partners</a></li>
    <li><a  href="/support/">Support</a></li>
    <li><a  href="/blogs/">Blogs</a></li>
    <li><a  href="/events/">Events</a></li>
    <li><a  href="http://code.ticketmaster.com/">Open Source</a></li>
</ul>



<div class="single-column tutorials article documentation">

    <div class="maincontent">
        <div class="row" style="position: relative;">
            <div class="col-xs-12 col-sm-6 col-lg-3 has-bg" id="aside-block">
                <div class="wrapper-aside-menu">
                    <h3 class="menu-header" id="aside-heading">
                        Products &amp; Docs
                        <span class="expanded" id="side-menu-btn"></span>
                    </h3>
                    <ul class="aside-menu" id="scrollable-element">
    <li>
        <h4><a href="/products-and-docs/apis/getting-started/" >APIs</a></h4>
        
    </li>
    <li>
        <h4><a href="/products-and-docs/sdks/"  >SDKs</a></h4>
        
    </li>
    <li>
        <h4><a href="/products-and-docs/widgets/"  >Widgets</a></h4>
        
    </li>
    <li>
        <h4><a href="/products-and-docs/tutorials/"  >Tutorials</a></h4>
        
        <ul class="categories">
            <li>
                <a href="/products-and-docs/tutorials/events-search/"  class="active"  >Events Search</a>
                <ul class="sections menu-highlight sd-tags-list"></ul>
            </li>
            <li>
                <a href="/products-and-docs/tutorials/widgets/"  >Widgets</a>
                <ul class="sections menu-highlight sd-tags-list"></ul>
            </li>
            <li>
                <a href="/products-and-docs/tutorials/sample-apps/"  >Sample Apps</a>
                <ul class="sections menu-highlight sd-tags-list"></ul>
            </li>
        </ul>
        
    </li>
</ul>

<script>
    $(document).ready(function () {

        var uniqueUpcoming = [].map.call($(".tag-btn"), function(item){
            return '<li><a href="#' + item.textContent + '" class="tag-menu-btn">' + item.textContent + '</a></li>';
        }).filter( function(value, index, self) {
            return self.indexOf(value) === index;
        }).join("");

        if(uniqueUpcoming !== ""){
            $(".categories>li>a.active + .sd-tags-list").append(uniqueUpcoming);
        }

        var PartnerTagClickHandler = function() {
            var currentItem = this.textContent;
            var isActive = $(this).hasClass('active');
            if(isActive){
                $(".tag-btn, .tag-menu-btn").removeClass("active");
                $(".tutorials-article").show();
                if(this.tagName.toUpperCase() == "BUTTON"){
                    this.blur();
                }

            }else{
                $(".tag-btn").add(".tag-menu-btn").removeClass("active").map(function(){
                    if (this.textContent == currentItem) {
                        return this;
                    }
                }).addClass("active");

                $(".tutorials-article").show().filter(function() {
                    return $(this).find(".tag-btn.active").size() === 0;
                }).hide();
            }


        };

        $(".tutorials-article").on("click", ".tag-btn", PartnerTagClickHandler);
        $(".categories").on("click", ".tag-menu-btn", PartnerTagClickHandler);
    });



</script>

                </div>
            </div>

            <div class="col-xs-12 col-sm-12 col-lg-9 page-column " id="main-block">
                <div class="content" style="display: block;">
                    <div class="article-wrapper">
                        <h1 id="locate-events-on-a-map">Locate events on a map</h1>

<h2 id="introduction">Introduction</h2>

<p>This tutorial goes through the steps needed to create a Google Map populated with events taking place in a specific area on the map. Given the lat/lon value pair provided by the Google Maps API, a search call is triggered in the Discovery API with that value in a radius of 25 miles, which is the default value if none is set.</p>

<h2 id="authentication">Authentication</h2>

<p>To run a successful API call, you will need to pass your API Key as the query parameter <code class="highlighter-rouge">apikey</code>.</p>

<p><strong>Example:</strong> https://app.ticketmaster.com/discovery/v2/events.json?{apikey}</p>

<h2 id="get-an-api-key">Get an API key</h2>

<p><a href="https://developer-acct.ticketmaster.com/user/login">Register</a> on the developers portal. After the registration, the default application will be created. The application contains a <code class="highlighter-rouge">Consumer Key</code> that is used for authentication.</p>

<p>Your <code class="highlighter-rouge">Consumer Key</code> is your <code class="highlighter-rouge">API Key</code>.</p>

<p><img src="/products-and-docs/tutorials/img/discovery-api-app.png" alt="Disovery API application" /></p>

<h2 id="events-on-a-map">Events on a map</h2>

<p>Hereâ€™s a simple page with a Google map and markers for events:</p>

<p class="window-title">Events on a map</p>

<blockquote class="tutorial-code t-lang-selector">
  <p><a href="#html">HTML</a>
<a href="#js">JavaScript</a>
<a href="#css">CSS</a></p>
</blockquote>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"style.css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"location"</span><span class="nt">&gt;</span>location there<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"events"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"script.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://maps.googleapis.com/maps/api/js"</span> <span class="na">async</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>

  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">getLocation</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="nx">showPosition</span><span class="p">,</span> <span class="nx">showError</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"location"</span><span class="p">);</span>
        <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"Geolocation is not supported by this browser."</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="kd">function</span> <span class="nx">showPosition</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"location"</span><span class="p">);</span>
    <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"Latitude: "</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span> <span class="o">+</span> 
    <span class="s2">"&lt;br&gt;Longitude: "</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span> 
    <span class="kd">var</span> <span class="nx">latlon</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span> <span class="o">+</span> <span class="s2">","</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>


    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="na">type</span><span class="p">:</span><span class="s2">"GET"</span><span class="p">,</span>
      <span class="na">url</span><span class="p">:</span><span class="s2">"https://app.ticketmaster.com/discovery/v2/events.json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG&amp;latlong="</span><span class="o">+</span><span class="nx">latlon</span><span class="p">,</span>
      <span class="na">async</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
      <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
                  <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"events"</span><span class="p">);</span>
                  <span class="nx">e</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">totalElements</span> <span class="o">+</span> <span class="s2">" events found."</span><span class="p">;</span>
                  <span class="nx">showEvents</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
                  <span class="nx">initMap</span><span class="p">(</span><span class="nx">position</span><span class="p">,</span> <span class="nx">json</span><span class="p">);</span>
               <span class="p">},</span>
      <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
               <span class="p">}</span>
    <span class="p">});</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">PERMISSION_DENIED</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"User denied the request for Geolocation."</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">POSITION_UNAVAILABLE</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"Location information is unavailable."</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">TIMEOUT</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"The request to get user location timed out."</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">UNKNOWN_ERROR</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"An unknown error occurred."</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">showEvents</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">json</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#events"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;p&gt;"</span><span class="o">+</span><span class="nx">json</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="o">+</span><span class="s2">"&lt;/p&gt;"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">initMap</span><span class="p">(</span><span class="nx">position</span><span class="p">,</span> <span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">mapDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'map'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Map</span><span class="p">(</span><span class="nx">mapDiv</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">center</span><span class="p">:</span> <span class="p">{</span><span class="na">lat</span><span class="p">:</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span> <span class="na">lng</span><span class="p">:</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">},</span>
    <span class="na">zoom</span><span class="p">:</span> <span class="mi">10</span>
  <span class="p">});</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">json</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">addMarker</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span> <span class="nx">json</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">addMarker</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
    <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">venues</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">location</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">venues</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">location</span><span class="p">.</span><span class="nx">longitude</span><span class="p">),</span>
    <span class="na">map</span><span class="p">:</span> <span class="nx">map</span>
  <span class="p">});</span>
  <span class="nx">marker</span><span class="p">.</span><span class="nx">setIcon</span><span class="p">(</span><span class="s1">'http://maps.google.com/mapfiles/ms/icons/red-dot.png'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
<span class="p">}</span>




<span class="nx">getLocation</span><span class="p">();</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-css" data-lang="css"><span class="nf">#map</span> <span class="p">{</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">400px</span><span class="p">;</span>
      <span class="p">}</span></code></pre></figure>

<p>When rendered, the page will show the map below:</p>

<p><img src="/products-and-docs/tutorials/img/search-events-map.png" alt="Map with events" /></p>

<p>Great! Now letâ€™s dive into the details.</p>

<h2 id="using-the-google-map-api">Using the Google Map API</h2>

<p>The page has a simple layout. We start by including CSS and jQuery in the <code class="highlighter-rouge">head</code> tag. You will see that in all out tutorials.</p>

<p>Inside the <code class="highlighter-rouge">body</code> element, there are two <code class="highlighter-rouge">div</code> elements. One with <code class="highlighter-rouge">id="map"</code> for the rendering of the Google map. The second with <code class="highlighter-rouge">id="events"</code> to render the list of events marked on the map.</p>

<p>Below the divs, we include our own script, which we will discuss later, and the Google Maps API <code class="highlighter-rouge">&lt;script src="https://maps.googleapis.com/maps/api/js" async defer&gt;&lt;/script&gt;</code>.</p>

<p class="window-title">Using The Google Map API</p>

<blockquote class="tutorial-code t-lang-selector">
  <p><a href="#html">HTML</a></p>
</blockquote>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">type=</span><span class="s">"text/css"</span> <span class="na">href=</span><span class="s">"style.css"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">id=</span><span class="s">"location"</span><span class="nt">&gt;</span>location there<span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"map"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"events"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"script.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://maps.googleapis.com/maps/api/js"</span> <span class="na">async</span> <span class="na">defer</span><span class="nt">&gt;&lt;/script&gt;</span>

  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span></code></pre></figure>

<p></p>

<h2 id="getting-the-browsers-geolocation">Getting the browserâ€™s geolocation</h2>

<p>Geolocation is a standard feature in HTML5. <a href="http://www.w3schools.com/html/html5_geolocation.asp">All modern browsers support it</a>.</p>

<p>When you try to use geolocation in JavaScript, a browser will ask a user for permission:</p>

<p class="window-title">Getting The Browserâ€™s Geolocation</p>

<blockquote class="tutorial-code t-lang-selector">
  <p><a href="#js">JavaScript</a></p>
</blockquote>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">getLocation</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">navigator</span><span class="p">.</span><span class="nx">geolocation</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="nx">showPosition</span><span class="p">,</span> <span class="nx">showError</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"location"</span><span class="p">);</span>
        <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"Geolocation is not supported by this browser."</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">showError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">code</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">PERMISSION_DENIED</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"User denied the request for Geolocation."</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">POSITION_UNAVAILABLE</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"Location information is unavailable."</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">TIMEOUT</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"The request to get user location timed out."</span>
            <span class="k">break</span><span class="p">;</span>
        <span class="k">case</span> <span class="nx">error</span><span class="p">.</span><span class="na">UNKNOWN_ERROR</span><span class="p">:</span>
            <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"An unknown error occurred."</span>
            <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span></code></pre></figure>

<p>There are two functions defined above: <code class="highlighter-rouge">getLocation</code> and <code class="highlighter-rouge">showError</code>.</p>

<p><code class="highlighter-rouge">getLocation</code> tries to get the location <code class="highlighter-rouge">navigator.geolocation.getCurrentPosition(showPosition, showError);</code> and in a case of an error, it calls <code class="highlighter-rouge">showError</code>, which in turn checks the error code and displays the appropriate message back to the user.</p>

<p>Assuming no errors are encountered, now we have your current location in a lat/lon value pair.</p>

<h2 id="passing-location-to-the-discovery-api">Passing location to the Discovery API</h2>

<p>Now we make an API call to <a href="/products-and-docs/apis/discovery/v2/#srch-events-v2">search for events within 25 miles from the latitude and longitude values</a> we received in the step above. We call the function <code class="highlighter-rouge">ShowPosition</code> to render that.</p>

<p class="window-title">Passing Location To The Discovery API</p>

<blockquote class="tutorial-code t-lang-selector">
  <p><a href="#js">JavaScript</a></p>
</blockquote>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">showPosition</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"location"</span><span class="p">);</span>
    <span class="nx">x</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="s2">"Latitude: "</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span> <span class="o">+</span> 
    <span class="s2">"&lt;br&gt;Longitude: "</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span> 
    <span class="kd">var</span> <span class="nx">latlon</span> <span class="o">=</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span> <span class="o">+</span> <span class="s2">","</span> <span class="o">+</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">;</span>


    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
      <span class="na">type</span><span class="p">:</span><span class="s2">"GET"</span><span class="p">,</span>
      <span class="na">url</span><span class="p">:</span><span class="s2">"https://app.ticketmaster.com/discovery/v2/events.json?apikey=5QGCEXAsJowiCI4n1uAwMlCGAcSNAEmG&amp;latlong="</span><span class="o">+</span><span class="nx">latlon</span><span class="p">,</span>
      <span class="na">async</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
      <span class="na">dataType</span><span class="p">:</span> <span class="s2">"json"</span><span class="p">,</span>
      <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
                  <span class="kd">var</span> <span class="nx">e</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">"events"</span><span class="p">);</span>
                  <span class="nx">e</span><span class="p">.</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">totalElements</span> <span class="o">+</span> <span class="s2">" events found."</span><span class="p">;</span>
                  <span class="nx">showEvents</span><span class="p">(</span><span class="nx">json</span><span class="p">);</span>
                  <span class="nx">initMap</span><span class="p">(</span><span class="nx">position</span><span class="p">,</span> <span class="nx">json</span><span class="p">);</span>
               <span class="p">},</span>
      <span class="na">error</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
               <span class="p">}</span>
    <span class="p">});</span>

<span class="p">}</span></code></pre></figure>

<p></p>

<h2 id="process-the-api-response">Process the API response</h2>

<p>In a case of a successful request to Discovery API, we call function <code class="highlighter-rouge">showEvents</code> that processes the response and displays the event list.
Other function <code class="highlighter-rouge">initMap</code> initializes Google map and shows markers for events.</p>

<p class="window-title">Process The API Response</p>

<blockquote class="tutorial-code t-lang-selector">
  <p><a href="#js">JavaScript</a></p>
</blockquote>

<figure class="highlight"><pre><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">showEvents</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">json</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">$</span><span class="p">(</span><span class="s2">"#events"</span><span class="p">).</span><span class="nx">append</span><span class="p">(</span><span class="s2">"&lt;p&gt;"</span><span class="o">+</span><span class="nx">json</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">name</span><span class="o">+</span><span class="s2">"&lt;/p&gt;"</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>


<span class="kd">function</span> <span class="nx">initMap</span><span class="p">(</span><span class="nx">position</span><span class="p">,</span> <span class="nx">json</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">mapDiv</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">'map'</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Map</span><span class="p">(</span><span class="nx">mapDiv</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">center</span><span class="p">:</span> <span class="p">{</span><span class="na">lat</span><span class="p">:</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span> <span class="na">lng</span><span class="p">:</span> <span class="nx">position</span><span class="p">.</span><span class="nx">coords</span><span class="p">.</span><span class="nx">longitude</span><span class="p">},</span>
    <span class="na">zoom</span><span class="p">:</span> <span class="mi">10</span>
  <span class="p">});</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span><span class="o">&lt;</span><span class="nx">json</span><span class="p">.</span><span class="nx">page</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">addMarker</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span> <span class="nx">json</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">events</span><span class="p">[</span><span class="nx">i</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">addMarker</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span> <span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
    <span class="na">position</span><span class="p">:</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">venues</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">location</span><span class="p">.</span><span class="nx">latitude</span><span class="p">,</span> <span class="nx">event</span><span class="p">.</span><span class="nx">_embedded</span><span class="p">.</span><span class="nx">venues</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">location</span><span class="p">.</span><span class="nx">longitude</span><span class="p">),</span>
    <span class="na">map</span><span class="p">:</span> <span class="nx">map</span>
  <span class="p">});</span>
  <span class="nx">marker</span><span class="p">.</span><span class="nx">setIcon</span><span class="p">(</span><span class="s1">'http://maps.google.com/mapfiles/ms/icons/red-dot.png'</span><span class="p">);</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">marker</span><span class="p">);</span>
<span class="p">}</span></code></pre></figure>

<p>During the map initialization, we use the <code class="highlighter-rouge">addMarker</code> function to add event markers to the map. <a href="https://developers.google.com/maps/documentation/javascript/tutorials/custom-markers">More details about markers.</a></p>

<p>You can try this entire tutorial code <a href="http://plnkr.co/edit/i1NZC9PopEF2fWzUAAH8?p=info">here</a>.</p>

                        <div class="side-box"></div>

												<div id="disqus_thread"></div>
<script>
  // Global discus config func.
  window.disqus_config = function () {
		if (window.location.hostname != 'developer.ticketmaster.com') {
		    var pageURL = window.location.href.replace(window.location.host, 'developer.ticketmaster.com');
		    this.page.url = pageURL || "http://developer.ticketmaster.com/";
		}
		else this.page.url = document.URL || "http://developer.ticketmaster.com/";
    this.page.identifier = "Tutorial - Locate events on a map";
  };
  (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ticketmasterapi.disqus.com/embed.js';
    s.setAttribute('data-timestamp', + new Date());
    (d.head || d.body).appendChild(s);
  })();
</script>


                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div id="footer" class="xs-center slice-top-right">

<div class="row footer-nav">
    <div class="row-container">
        <div class="col-xs-12 col-sm-2">
            <a href="/products-and-docs/"><h4 class="white">Products & Docs</h4></a>
            <ul>
                <li><a href="/products-and-docs/apis/getting-started/">APIs</a></li>
                <li><a href="/products-and-docs/sdks/">SDKs</a></li>
                <li><a href="/products-and-docs/widgets/">Widgets</a></li>
                <li><a href="/products-and-docs/tutorials/">Tutorials</a></li>
            </ul>
        </div>
        <div class="col-xs-12 col-sm-2">
            <a href="/partners/"><h4 class="white">Partners</h4></a>
            <ul>
                <li><a href="/partners/distribution-partners/">Distribution Partners</a></li>
                <li><a href="/partners/certified-partners/">Certified Partners</a></li>
                <!--<li><a href="https://member.impactradius.com/bla/Ticketmasterdirect/login.user">Affiliates</a></li>-->
                <li><a href="/partners/startups-and-developers/">Startups & Developers</a></li>
            </ul>
        </div>
        <div class="col-xs-12 col-sm-2">
            <a href="/support/"><h4 class="white">Support</h4></a>
            <ul>
                <li><a href="/support/faq/">FAQ</a></li>
                
                <li><a href="/support/terms-of-use/">General Terms of Use</a></li>
                <li><a href="/support/terms-of-use/partner/">Partner API Terms of Use</a></li>
                <li><a href="/support/branding-guide/">Branding Guide</a></li>
                <li><a href="/support/contact-us/">Contact us</a></li>
            </ul>
        </div>
        <div class="col-xs-12 col-sm-2">
            <a href="/blogs/"><h4 class="white">Blogs</h4></a>
            <ul>
                <li><a href="http://tech.ticketmaster.com/">Tech Blog</a></li>
                <li><a href="https://medium.com/ticketmaster-tech/">Medium Publication</a></li>
            </ul>
        </div>
        <div class="col-xs-12 col-sm-2">
            <a href="/events/"><h4 class="white">Events</h4></a>
            <ul>
                <li><a href="/events/#/upcoming/hackathon">hackathons</a></li>
                <li><a href="/events/#/upcoming/devjam">devjam</a></li>
            </ul>
        </div>
        <div class="col-xs-12 col-sm-2">
            <a href="http://code.ticketmaster.com/"><h4 class="white">Open Source</h4></a>
            <ul>
                <li><a href="http://code.ticketmaster.com/#android-projects">Android</a></li>
                <li><a href="http://code.ticketmaster.com/#backend-projects">Backend</a></li>
                <li><a href="http://code.ticketmaster.com/#iOS-projects">iOS</a></li>
                <li><a href="http://code.ticketmaster.com/#web-projects">Web</a></li>
            </ul>
        </div>
    </div>
</div>
<div class="row bottom-logo" style="margin-bottom: 10px;">
    <div class="row-container">
        <div class="col-xs-12">
            <a href="http://www.ticketmaster.com">
            <img alt="Ticketmaster logo" src="/assets/img/footer/ticketmaster-logo-white.svg">
            </a>
            <span>Â© 1976â€“2017 Ticketmaster. All rights reserved.</span>
        </div>
    </div>
</div>



</div>

<div class="modal modal-common fs-modal modal-langs" tabindex="-1" role="dialog" aria-labelledby="search-events">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button aria-label="Close" data-dismiss="modal" class="close" type="button"></button>
                <h4 id="modal-title" class="modal-title"></h4>
            </div>
            <div class="modal-body">
                <div class="highlight"></div>
            </div>
        </div>
    </div>
    <textarea name="copy-clip" id="copy-clip" class="copy-clip"></textarea>
</div>

<!--<script src="/scripts/components/parser.js"></script>-->
<script src="/scripts/vendors/clipboard.js"></script>
<script src="/scripts/components/clipboard-fallback.js"></script>
<script src="/scripts/vendors/user-scroll-disabler.js"></script>
<script src="/scripts/components/pd-side-menu.js"></script>
<script src="/scripts/components/menu-highlight.js"></script>
<script src="/scripts/components/request-response.js"></script>
<script src="/scripts/components/tutorials-code.js"></script>
<script src="/scripts/vendors/jstree.min.js"></script>
<script src="/scripts/components/list-collapse.js"></script>

<script>
    if(sessionStorage.getItem('tk-api-key') !== null) {
        document.body.innerHTML = document.body.innerHTML.replace(/\{apikey\}/g, "apikey=" + sessionStorage.getItem('tk-api-key'));
    }
</script>

        <div id="back-top">
            <a href="javascript:void(0)"><span></span></a>
        </div>

        
        
        <script src="/scripts/components/scroll-top.js"></script>
        <script src="/scripts/vendors/bootstrap.min.js"></script>
        

<div class="modal modal-common fade" id="feedback-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"></button>
        <div class="row">
          <h3 class="modal-title col-lg-12">Leave Your Feedback</h3>
        </div>
      </div>
      <div class="modal-body">

        <form id="js_feedback_form" accept-charset="UTF-8" action="https://getsimpleform.com/messages/ajax?form_api_token=d9878ccc8e22c7253d057015617f82cd" method="POST">
          <div class="col-lg-6">
            <label for="name">Your name</label>
            <input required type="text" id="name" name="name" maxlength="255" autofocus >
          </div>
          <div class="col-lg-6">
            <label for="email">Your email</label>
            <input type="email" id="email" name="email" required pattern="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,3}$" title="Use the following format '-@-.--' ">
          </div>
          <div class="col-lg-12">
            <label for="subject">Subject</label>
            <div class="js_custom_select custom_select">
              <select required class="custom_select__field" name="subject" id="subject" tabindex="-1">
                <option value="General feedback">General feedback</option>
                <option value="Current workflow of the portal">Current workflow of the portal</option>
                <option value="Technical issues">Technical issues</option>
              </select>
              <input class="custom_select__placeholder" type="text" value="General feedback" readonly>
              <ul class="custom_select__list">
                <li class="custom_select__item" data-value="General feedback">General feedback</li>
                <li class="custom_select__item" data-value="Current workflow of the portal">Current workflow of the portal</li>
                <li class="custom_select__item" data-value="Technical issues">Technical issues</li>
              </ul>
            </div>
          </div>
          <div class="col-lg-12">
            <label for="description">Description</label>
            <textarea required rows="3" name="description" id="description"></textarea>
          </div>
          <div class="col-sm-12">
            <p id="feedback-message-error" class="text-overflow-message text-overflow-message__red" style="display:none">The maximum length of description can be 3000 characters.</p>
          </div>
        </form>

      </div>
      <div class="modal-footer">
        <button id="js_feedback_btn" type="button" class="btn btn-submit" >send</button>
      </div>



    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->



<!-- Button trigger modal -->
<button id="js_feedback_open" type="button" class="btn feedback-btn scale-on-hover" data-toggle="modal" data-target="#feedback-modal">feedback</button>


<!-- Modal alert-->
<div id="feedback-alert-modal" class="modal modal-common modal-common-sm fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <h3 class="modal-title col-lg-12 text-center">Thank you for contacting us!</h3>
        <p class="text-center">We will review and respond promptly.</p>
        <div class="modal-footer">
          <button id="js_feedback_btn_alert_ok" type="button" class="btn btn-submit text-center">Ok</button>
        </div>
      </div>
    </div>

  </div>
</div>
<!-- Modal alert end-->

<!-- Modal alert Error-->
<div id="feedback-alert-modal-error" class="modal modal-common modal-common-sm fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <h3 class="modal-title col-lg-12 text-center text-overflow-message__red">Error</h3>
        <p id="text-overflow-message" class="text-center">The maximum length of description can be 3000 characters.</p>
        <div class="modal-footer">
          <button id="js_feedback_btn_alert_ok-error" type="button" class="btn btn-submit text-center">Ok</button>
        </div>
      </div>
    </div>

  </div>
</div>
<!-- Modal alert end-->

				<script src="/scripts/components/custom-select.js"></script>
				<script src="/scripts/components/simple-form-checker.js"></script>
				<script src="/scripts/components/feedback.js"></script>

				
				




        
				<script src="/scripts/load-api-key.js?v=1" async></script>
    </body>
</html>
